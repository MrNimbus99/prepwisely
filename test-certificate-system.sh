#!/bin/bash

echo "üß™ Testing Certificate Generation System"
echo ""
echo "‚ö†Ô∏è  This test requires:"
echo "   1. A valid Cognito access token"
echo "   2. User to be logged in"
echo ""
echo "To test manually:"
echo "1. Log in to https://nestedcerts.com"
echo "2. Complete all quizzes for a certification"
echo "3. Click 'Download Certificate' button"
echo ""
echo "Expected behavior:"
echo "‚úì Button appears only when all 32 quizzes/exams are completed"
echo "‚úì Clicking button generates PDF with user's name from Cognito"
echo "‚úì PDF downloads automatically"
echo "‚úì Certificate includes:"
echo "  - User's full name (from Cognito 'name' attribute)"
echo "  - Certification title"
echo "  - Completion date"
echo "  - Unique serial number (NC-{CERT}-{TIMESTAMP})"
echo ""
echo "üìã System Components:"
echo "‚úì Lambda: nestedcerts-certificate-generator-prod"
echo "‚úì S3 Bucket: nestedcerts-certificates-prod-947977408385"
echo "‚úì API: https://yxa4lhwakg.execute-api.ap-southeast-2.amazonaws.com/prod/generate"
echo "‚úì Template: s3://prepwisely-app-prod-947977408385/Certificate/nestedcerts_simple_colored_certificate.pdf"
echo ""
echo "üîç To check Lambda logs:"
echo "aws logs tail /aws/lambda/nestedcerts-certificate-generator-prod --follow --region ap-southeast-2"
echo ""
echo "üîç To check generated certificates:"
echo "aws s3 ls s3://nestedcerts-certificates-prod-947977408385/certificates/ --recursive --region ap-southeast-2"
